/*****************************************************************************
 jQuery flickGal 1.1.3
 
 Copyright (c) 2011 Soichi Takamura (http://stakamura.me/jquery/flickgal/demo.html)
 
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html
 
 **************************************************************************** */

(function(b,y){b.fn.flickGal=function(m){var h,z,A,B,q;function r(b){return[C,b,P].join("")}var m=b.extend({infinitCarousel:!1,lockScroll:!0},m),c=navigator.userAgent.toLowerCase();q=1;var i=c.indexOf("webkit")>=0?0:c.indexOf("gecko")>=0?q:c.indexOf("msie")>=0?2:c.indexOf("opera")>=0?3:4,e=!!(c.indexOf("iphone")>=0||c.indexOf("ipad")>=0||c.indexOf("android")>=0),f;switch(i){case 0:f="-webkit-";break;case q:f="-moz-";break;case 2:f="-ms-";break;case 3:f="-o-";break;case 4:f=""}var n=f+"transform",
C=i==0?"translate3d(":"translate(",P=i==0?"px,0,0)":"px,0)";h=e?"touchstart":"mousedown";z=e?"touchend":"mouseup";A=e?"touchmove":"mousemove";B=i==0?"webkitTransitionEnd":i==3?"oTransitionEnd":"transitionend";return this.each(function(){function c(){D=s.offset().left;j=(s.innerWidth()-o)/2;p(a)}function f(a){var b=e?a.touches[0]:a;switch(a.type){case A:m.lockScroll&&a.preventDefault();E&&d.css(n,r(t+(j+b.pageX-F)));break;case h:e||a.preventDefault();E=!0;I=(new Date).getTime();F=e?b.pageX:a.clientX;
t=G()-D-j;d.hasClass("moving")&&d.removeClass("moving").css(n,r(j+t));break;case z:t=0,E=!1,J=e?a.changedTouches[0].pageX:a.clientX,p()}}function K(){d.removeClass("moving")}function p(b){d.addClass("moving");var c=G();typeof b=="number"?a=b:(b=J-F,(new Date).getTime()-I<300&&Math.abs(b)>30?b>0?a--:a++:a=Math.floor(Math.abs(C+c-j-o/2)/o));a>k-1?a=k-1:a<0&&(a=0);d.css(n,r(j+o*a*-1));L&&H.removeClass("selected").eq(a).addClass("selected");M&&N()}function G(){var a;if(i!=q)a=d.offset().left;else a:{try{var b=
y.parseInt(/(,.+?){3} (.+?)px/.exec(d.css(n))[2]);a=!y.isNaN(b)?b+D:0;break a}catch(c){}a=0}return a}var u=b(this),s=b(".container",u).css({overflow:"hidden"}),d=b(".containerInner",s).css({position:"relative",overflow:"hidden",top:0,left:0}),l=b(".item",d).css({"float":"left"}),k=l.length,o=l.outerWidth(!0),g=o*k,l=l.outerHeight(!0),C=0,a=0,D,j;s.height(l).scroll(function(){b(this).scrollLeft(0)});d.height(l).width(g).css(n,r(G()));b(y).bind(e?"orientationchange":"resize",c,!1);c();var g=b(".nav",
u),v=g.find("a[href^=#]"),H=v.parent(),L=!(!g.length||!v.length||!H.length);L&&(H.eq(0).addClass("selected"),v.bind(h,function(){var a=v.index(this);p(a);return!1}).bind("click",function(){return!1}));g=[A,h,z];if(e){var O=d[0];b.a(g,function(a,b){O.addEventListener(b,f,!1)});O.addEventListener(B,K,!1)}else d.bind(g.join(" "),f,!1).bind(B,K,!1);var w=b(".prev",u),x=b(".next",u),M=!(!w.length||!x.length);if(M){var N=function(){w.add(x).removeClass("off");a===0?w.addClass("off"):a===k-1&&x.addClass("off")};
w.bind(h,function(){a=a>0?a-1:m.infinitCarousel?k-1:a;p(a)});x.bind(h,function(){a=a<k-1?a+1:m.infinitCarousel?0:a;p(a)});N()}var F=0,J=0,I=0,t=0,E=!1})}})(window.jQuery,this);