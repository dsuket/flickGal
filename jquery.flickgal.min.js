/*****************************************************************************
 jQuery flickGal 1.1.5
 
 Copyright (c) 2011 Soichi Takamura (http://stakam.net/jquery/flickgal/demo.html)
 
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html
 
 **************************************************************************** */

(function(b,y){b.fn.flickGal=function(m){var h,z,A,B,q;function r(b){return[C,b,P].join("")}var m=b.extend({infinitCarousel:false,lockScroll:true},m),c=navigator.userAgent.toLowerCase();q=1;var i=c.indexOf("webkit")>=0?0:c.indexOf("gecko")>=0?q:c.indexOf("msie")>=0?2:c.indexOf("opera")>=0?3:4,d=!!(c.indexOf("iphone")>=0||c.indexOf("ipad")>=0||c.indexOf("android")>=0),f;switch(i){case 0:f="-webkit-";break;case q:f="-moz-";break;case 2:f="-ms-";break;case 3:f="-o-";break;case 4:f=""}var n=f+"transform",
C=i==0?"translate3d(":"translate(",P=i==0?"px,0,0)":"px,0)";h=d?"touchstart":"mousedown";z=d?"touchend":"mouseup";A=d?"touchmove":"mousemove";B=i==0?"webkitTransitionEnd":i==3?"oTransitionEnd":"transitionend";return this.each(function(){function c(){D=s.offset().left;j=(s.innerWidth()-o)/2;p(a)}function f(a){var b=d?a.touches[0]:a;switch(a.type){case A:m.lockScroll&&a.preventDefault();E&&e.css(n,r(t+(j+b.pageX-F)));break;case h:d||a.preventDefault();E=true;I=(new Date).getTime();F=d?b.pageX:a.clientX;
t=G()-D-j;e.hasClass("moving")&&e.removeClass("moving").css(n,r(j+t));break;case z:t=0,E=false,J=d?a.changedTouches[0].pageX:a.clientX,p()}}function K(){e.removeClass("moving")}function p(b){e.addClass("moving");var c=G();if(typeof b=="number")a=b;else{var b=(new Date).getTime()-I,d=J-F;b<300&&Math.abs(d)>30?d>0?a--:a++:(c=Math.abs(C+c-j-o/2),a=Math.floor(c/o))}a>k-1?a=k-1:a<0&&(a=0);e.css(n,r(j+o*a*-1));L&&H.removeClass("selected").eq(a).addClass("selected");M&&N()}function G(){var a;if(i!=q)a=e.offset().left;
else a:{try{var b=y.parseInt(/(,.+?){3} (.+?)px/.exec(e.css(n))[2]);a=!y.isNaN(b)?b+D:0;break a}catch(c){}a=0}return a}var u=b(this),s=b(".container",u).css({overflow:"hidden"}),e=b(".containerInner",s).css({position:"relative",overflow:"hidden",top:0,left:0}),l=b(".item",e).css({"float":"left"}),k=l.length,o=l.outerWidth(true),g=o*k,l=l.outerHeight(true),C=0,a=0,D,j;s.height(l).scroll(function(){b(this).scrollLeft(0)});e.height(l).width(g).css(n,r(G()));b(y).bind(d?"orientationchange":"resize",c);
c();var g=b(".nav",u),v=g.find("a[href^=#]"),H=v.parent(),L=!(!g.length||!v.length||!H.length);L&&(H.eq(0).addClass("selected"),v.bind(h,function(){var a=v.index(this);p(a);return false}).bind("click",function(){return false}));g=[A,h,z];if(d){var O=e[0];b.each(g,function(a,b){O.addEventListener(b,f,false)});O.addEventListener(B,K,false)}else e.bind(g.join(" "),f).bind(B,K);var w=b(".prev",u),x=b(".next",u),M=!(!w.length||!x.length);if(M){var N=function(){w.add(x).removeClass("off");a===0?w.addClass("off"):
a===k-1&&x.addClass("off")};w.bind(h,function(){a=a>0?a-1:m.infinitCarousel?k-1:a;p(a)});x.bind(h,function(){a=a<k-1?a+1:m.infinitCarousel?0:a;p(a)});N()}var F=0,J=0,I=0,t=0,E=false})}})(window.jQuery,this);
