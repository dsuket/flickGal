/*

 jQuery flickGal 1.2.1
 
 Copyright (c) 2011 Soichi Takamura (http://stakam.net/jquery/flickgal/demo)
 
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html
*/
(function(){(function(){var c,k,r,e,v,w,n,x,d,y,f;c={b:0,c:1,l:2,f:3,m:4};d=navigator.userAgent.toLowerCase();n=d.indexOf("webkit")>=0?c.b:d.indexOf("gecko")>=0?c.c:d.indexOf("msie")>=0?c.l:d.indexOf("opera")>=0?c.f:c.m;y=d.indexOf("iphone")>=0||d.indexOf("ipad")>=0;d=d.indexOf("android")>=0;f=y||d;switch(n){case c.b:k="-webkit-";break;case c.c:k="-moz-";break;case c.l:k="-ms-";break;case c.f:k="-o-";break;case c.m:k=""}r=k+"transform";v=n===c.b?"translate3d(":"translate(";w=n===c.b?"px,0,0)":"px,0)";e={a:f?
"touchstart":"mousedown",h:f?"touchend":"mouseup",k:f?"touchmove":"mousemove",o:n===c.b?"webkitTransitionEnd":n===c.f?"oTransitionEnd":"transitionend",g:"orientationchange",p:"click",n:"resize"};if(d)e.g=""+e.g+" "+e.n;x=function(e){return[v,e,w].join("")};window.jQuery.fn.flickGal=function(d){d=$.extend({infinitCarousel:!1,lockScroll:!0,lockDirection:!1,scrollMargin:0,vsnap:!1},d);return this.each(function(){var g,o,l,p,k,z,F,A,B,i,J,C,b,q,D,K,L,E,v,G,m,s,t,w,H,y,M,u,N,I,O,h,P,Q,R;l=$(this);o=$(".container",
l).css({overflow:"hidden"});g=$(".containerInner",o).css({position:"relative",overflow:"hidden",top:0,left:0});p=$(".item",g).css({"float":"left"});m=p.length;s=p.outerWidth(!0);C=s*m;p=p.outerHeight(!0);q=D=b=0;v=function(a){var b;try{if(b=window.parseInt(/(,.+?){3} (.+?)px/.exec(a.css(r))[2]),!window.isNaN(b))return b+D}catch(d){}return 0};G=function(){return n!==c.c?g.offset().left:v(g)};M=function(){D=o.offset().left;q=(o.innerWidth()-s)/2;return t(b)};k=$(".nav",l);z=k.find("a[href^=#]");F=z.parent();
R=!(!k.length||!z.length||!F.length);B=$(".prev",l);A=$(".next",l);if(Q=!(!B.length||!A.length))y=function(){b=b>0?b-1:d.infinitCarousel?m-1:b;return t(b)},w=function(){b=b<m-1?b+1:d.infinitCarousel?0:b;return t(b)},K=function(){B.add(A).removeClass("off");if(b===0)return B.addClass("off");else if(b===m-1)return A.addClass("off")};u=N=L=O=I=0;E=H=!1;i={j:1,i:2,d:4,e:8};h=0;P=function(a){var c,j;j=f?a.touches[0]:a;switch(a.type){case e.k:d.lockScroll&&a.preventDefault();c=f?j.pageX:a.clientX;j=f?j.pageY:
a.clientY;if(H)break;if(h&i.j){c-=I;j-=O;if(!E){if(Math.abs(j)>d.scrollMargin){H=!0;break}if(Math.abs(c)<d.scrollMargin)break;E=!0;if(d.vsnap)j=o.offset().top,window.scrollY!==j&&window.scrollTo(0,j)}d.lockDirection&&a.preventDefault();if(h&i.i&&(h&i.d&&c>0||h&i.e&&c<0))c/=2;return g.css(r,x(q+u+c))}break;case e.a:f||a.preventDefault();E=H=!1;h|=i.j;b===0&&(h|=i.d);b===m-1&&(h|=i.e);if(h&i.d||h&i.e)h|=i.i;N=(new Date).getTime();I=f?j.pageX:a.clientX;O=f?j.pageY:a.clientY;u=G()-D-q;a=o.css("border-left-width");
a!=null&&(u-=parseInt(a));if(g.hasClass("moving"))return g.removeClass("moving").css(r,x(q+u));break;case e.h:if(h=u=0,E)return L=f?a.changedTouches[0].pageX:a.clientX,t()}};l=function(){return g.removeClass("moving")};t=function(a){var c;g.addClass("moving");typeof a==="number"?b=a:(a=(new Date).getTime(),c=a-N,a=L-I,c<300&&Math.abs(a)>30?a>0?b--:b++:(a=G()-D,a=Math.abs(0+a-q-s/2),b=Math.floor(a/s)));b>m-1?b=m-1:b<0&&(b=0);g.css(r,x(q+s*b*-1));R&&F.removeClass("selected").eq(b).addClass("selected");
if(Q)return K()};o.height(p).scroll(function(){return $(this).scrollLeft(0)});g.height(p).width(C).css(r,x(G()));$(window).bind(f?e.g:e.n,M);M();R&&(F.eq(0).addClass("selected"),z.bind(e.a,function(){var a;a=z.index(this);t(a);return!1}).bind(e.p,function(){return!1}));Q&&(B.bind(e.a,y),A.bind(e.a,w),K());C=[e.k,e.a,e.h];return f?(J=g[0],$.each(C,function(a,b){return J.addEventListener(b,P,!1)}),J.addEventListener(e.o,l,!1)):g.bind(C.join(" "),P).bind(e.o,l)})}}).call(this);})();
