/*

 jQuery flickGal 1.2.1
 
 Copyright (c) 2011 Soichi Takamura (http://stakam.net/jquery/flickgal/demo)
 
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html
*/
(function(){(function(){var m,E,F,G,A,d,n,q,r,j,s,c,t,g;c=navigator.userAgent.toLowerCase();j=c.indexOf("webkit")>=0?0:c.indexOf("gecko")>=0?1:c.indexOf("msie")>=0?2:c.indexOf("opera")>=0?3:4;t=c.indexOf("iphone")>=0||c.indexOf("ipad")>=0;c=c.indexOf("android")>=0;g=t||c;switch(j){case 0:d="-webkit-";break;case 1:d="-moz-";break;case 2:d="-ms-";break;case 3:d="-o-";break;case 4:d=""}n=d+"transform";q=j===0?"translate3d(":"translate(";r=j===0?"px,0,0)":"px,0)";m=g?"touchstart":"mousedown";E=g?"touchend":"mouseup";
F=g?"touchmove":"mousemove";G=j===0?"webkitTransitionEnd":j===3?"oTransitionEnd":"transitionend";A="orientationchange";c&&(A=""+A+" resize");s=function(c){return[q,c,r].join("")};window.jQuery.fn.flickGal=function(c){c=$.extend({infinitCarousel:false,lockScroll:true},c);return this.each(function(){var e,d,h,k,H,u,B,v,w,I,x,a,l,y,J,K,q,C,i,o,p,r,t,L,z,M,D,f,N,O,P;h=$(this);d=$(".container",h).css({overflow:"hidden"});e=$(".containerInner",d).css({position:"relative",overflow:"hidden",top:0,left:0});
k=$(".item",e).css({"float":"left"});i=k.length;o=k.outerWidth(true);x=o*i;k=k.outerHeight(true);l=y=a=0;q=function(b){var a;try{if(a=window.parseInt(/(,.+?){3} (.+?)px/.exec(b.css(n))[2]),!window.isNaN(a))return a+y}catch(c){}return 0};C=function(){return j!==1?e.offset().left:q(e)};L=function(){y=d.offset().left;l=(d.innerWidth()-o)/2;return p(a)};H=$(".nav",h);u=H.find("a[href^=#]");B=u.parent();P=!(!H.length||!u.length||!B.length);w=$(".prev",h);v=$(".next",h);if(O=!(!w.length||!v.length))t=function(){a=
a>0?a-1:c.infinitCarousel?i-1:a;return p(a)},r=function(){a=a<i-1?a+1:c.infinitCarousel?0:a;return p(a)},J=function(){w.add(v).removeClass("off");if(a===0)return w.addClass("off");else if(a===i-1)return v.addClass("off")};f=z=M=K=D=0;N=function(b){var d;d=g?b.touches[0]:b;switch(b.type){case F:c.lockScroll&&b.preventDefault();if(f&1){b=d.pageX-D;if(f&2&&(f&4&&b>0||f&8&&b<0))b/=2;return e.css(n,s(l+z+b))}break;case m:g||b.preventDefault();f|=1;a===0&&(f|=4);a===i-1&&(f|=8);if(f&4||f&8)f|=2;M=(new Date).getTime();
D=g?d.pageX:b.clientX;z=C()-y-l;if(e.hasClass("moving"))return e.removeClass("moving").css(n,s(l+z));break;case E:return f=z=0,K=g?b.changedTouches[0].pageX:b.clientX,p()}};h=function(){return e.removeClass("moving")};p=function(b){var c;e.addClass("moving");typeof b==="number"?a=b:(b=(new Date).getTime(),c=b-M,b=K-D,c<300&&Math.abs(b)>30?b>0?a--:a++:(b=C()-y,b=Math.abs(0+b-l-o/2),a=Math.floor(b/o)));a>i-1?a=i-1:a<0&&(a=0);e.css(n,s(l+o*a*-1));P&&B.removeClass("selected").eq(a).addClass("selected");
if(O)return J()};d.height(k).scroll(function(){return $(this).scrollLeft(0)});e.height(k).width(x).css(n,s(C()));$(window).bind(g?A:"resize",L);L();P&&(B.eq(0).addClass("selected"),u.bind(m,function(){var b;b=u.index(this);p(b);return false}).bind("click",function(){return false}));O&&(w.bind(m,t),v.bind(m,r),J());x=[F,m,E];return g?(I=e[0],$.each(x,function(b,a){return I.addEventListener(a,N,false)}),I.addEventListener(G,h,false)):e.bind(x.join(" "),N).bind(G,h)})}}).call(this);})();
