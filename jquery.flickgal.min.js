/*

 jQuery flickGal 1.2
 
 Copyright (c) 2011 Soichi Takamura (http://stakam.net/jquery/flickgal/demo)
 
 Dual licensed under the MIT and GPL licenses:
 http://www.opensource.org/licenses/mit-license.php
 http://www.gnu.org/licenses/gpl.html
*/
(function(){var g=false;
(function(){var l,E,F,G,z,c,m,p,q,h,r,b,s,e;b=navigator.userAgent.toLowerCase();h=b.indexOf("webkit")>=0?0:b.indexOf("gecko")>=0?1:b.indexOf("msie")>=0?2:b.indexOf("opera")>=0?3:4;s=b.indexOf("iphone")>=0||b.indexOf("ipad")>=0;b=b.indexOf("android")>=0;e=s||b;switch(h){case 0:c="-webkit-";break;case 1:c="-moz-";break;case 2:c="-ms-";break;case 3:c="-o-";break;case 4:c=""}m=c+"transform";p=h===0?"translate3d(":"translate(";q=h===0?"px,0,0)":"px,0)";l=e?"touchstart":"mousedown";E=e?"touchend":"mouseup";
F=e?"touchmove":"mousemove";G=h===0?"webkitTransitionEnd":h===3?"oTransitionEnd":"transitionend";z="orientationchange";b&&(z=""+z+" resize");r=function(b){return[p,b,q].join("")};window.jQuery.fn.flickGal=function(b){b=$.extend({infinitCarousel:g,lockScroll:true},b);return this.each(function(){var d,c,f,i,H,t,A,u,v,I,w,a,j,x,J,K,p,B,C,k,n,o,q,s,L,y,M,D,N,O,P;f=$(this);c=$(".container",f).css({overflow:"hidden"});d=$(".containerInner",c).css({position:"relative",overflow:"hidden",top:0,left:0});i=
$(".item",d).css({"float":"left"});k=i.length;n=i.outerWidth(true);w=n*k;i=i.outerHeight(true);j=x=a=0;p=function(Q){var a;try{if(a=window.parseInt(/(,.+?){3} (.+?)px/.exec(Q.css(m))[2]),!window.isNaN(a))return a+x}catch(b){}return 0};B=function(){return h!==1?d.offset().left:p(d)};L=function(){x=c.offset().left;j=(c.innerWidth()-n)/2;return o(a)};H=$(".nav",f);t=H.find("a[href^=#]");A=t.parent();P=!(!H.length||!t.length||!A.length);v=$(".prev",f);u=$(".next",f);if(O=!(!v.length||!u.length))s=function(){a=
a>0?a-1:b.infinitCarousel?k-1:a;return o(a)},q=function(){a=a<k-1?a+1:b.infinitCarousel?0:a;return o(a)},J=function(){v.add(u).removeClass("off");if(a===0)return v.addClass("off");else if(a===k-1)return u.addClass("off")};y=M=K=D=0;C=g;N=function(a){var c;c=e?a.touches[0]:a;switch(a.type){case F:b.lockScroll&&a.preventDefault();if(C)return a=j+c.pageX-D,d.css(m,r(y+a));break;case l:e||a.preventDefault();C=true;M=(new Date).getTime();D=e?c.pageX:a.clientX;y=B()-x-j;if(d.hasClass("moving"))return d.removeClass("moving").css(m,
r(j+y));break;case E:return y=0,C=g,K=e?a.changedTouches[0].pageX:a.clientX,o()}};f=function(){return d.removeClass("moving")};o=function(b){var c;d.addClass("moving");typeof b==="number"?a=b:(b=(new Date).getTime(),c=b-M,b=K-D,c<300&&Math.abs(b)>30?b>0?a--:a++:(b=B()-x,b=Math.abs(0+b-j-n/2),a=Math.floor(b/n)));a>k-1?a=k-1:a<0&&(a=0);d.css(m,r(j+n*a*-1));P&&A.removeClass("selected").eq(a).addClass("selected");if(O)return J()};c.height(i).scroll(function(){return $(this).scrollLeft(0)});d.height(i).width(w).css(m,
r(B()));$(window).bind(e?z:"resize",L);L();P&&(A.eq(0).addClass("selected"),t.bind(l,function(){var a;a=t.index(this);o(a);return g}).bind("click",function(){return g}));O&&(v.bind(l,s),u.bind(l,q),J());w=[F,l,E];return e?(I=d[0],$.each(w,function(a,b){return I.addEventListener(b,N,g)}),I.addEventListener(G,f,g)):d.bind(w.join(" "),N).bind(G,f)})}}).call(this);})();
